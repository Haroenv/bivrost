# Glossary

## Api

```js
type Api = (options: object) => apiRequestSetup
```

An *Api* is a function that is using for top level configuration and returns *ApiRequestSetup* function.

Most often options:
- `adapter: Adapter`
- `host: string`
- `prefix: string`
- `headers: object`
- `protocol: string`

A *Request* is an object that is passed as second arguments to adapters. Generated by *Api*, *ApiRequestSetup* 
and *ApiRequest*.


## ApiRequestSetup

```js
type ApiRequestSetup = (template: string, options: object) => ApiRequest
```

An *ApiRequestSetup* is a function that is using for entry point, request method and additional configurations.
Also all *api* options could be overridden here.

Entry point template string should be in `METHOD /entry/point?bound&params` format.  

Returns `ApiRequest` function.

## ApiRequest

```js
type ApiRequest = (params: object) => Promise 
```

An *ApiRequest* is a function that execute api request (configured at *ApiRequestSetup*) and pass `params` as 
arguments. 

## Adapter

```js
type Adapter = (options) => (url: string, request: Request) => Promise
```

The main goal of `Adapter` is make some magic and return function that execute query according to passed url and 
*Request* object or enchant another *Adapter*. 

In most cases - adapter is using to adapt api function for used approaches or libraries (fetch, axios, rxjs, local
storage) and execute query.
 
Also adapter is using for enchanting other adapters - add additional delays for testing, log api calls, save request 
response as blob, filter params etc.

## Request

```js
{
  path: string,
  verb: string, // http method. key "verb" comes from lib. history. Seems will be renamed in next releases
  headers: object,
  body: object,
  query: object
}
```

## Data source

```js
type DataSource = new Class(options: object) 
```

A *DataSource* - is a group of several API methods and its configuration. Every method call passes with the 
configured steps. Result of each step will be passed as arguments to the next step and whole steps chain 
will be cached if cache is enabled.

A *DataSource* provide methods for:

- steps configuration
- executing 
- cache manipulations

## Invoke

```js
DataSource.invoke(method: string, params: object) 
```

An *invoke* is a data source's function that execute `method`'s chain and pass `params` as initial arguments.


## Cache

```js
type CacheConfig = DataSource.constructor.cache: object; 
```

Cache instance could be created in two ways:
- Cache for all data source class instances. Each instance of specific data source will work with one cache storage.
- Cache per data source class instance. For each created instance - will be created separated cache storage.
